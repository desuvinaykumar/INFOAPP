<!DOCTYPE html>
<html ng-app="ionicApp">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">

  <title>Any information</title>

  <link href="css/ionic.css" rel="stylesheet">
  
  <script src="ionic.bundle.min.js"></script>
  <script src="script.js"></script>

</head>

<body ng-controller="MyCtrl">

	<ion-header-bar class="bar-positive">
		<button class="button icon ion-home" ng-click="showHomePage()"></button>
	 	<button class="button icon ion-navicon" ng-click="showCategoryPage()"></button>
	   	<h1 class="title">{{myTitle}}</h1>
		<button class="button button-icon-small icon-right ion-information-circled" ng-click="doSomething()">Post</button>
	</ion-header-bar>
  
	<ion-content ng-show="params.isCategoryPage">
		<h4>Choose category for information</h4>
		<div class="list list-inset">
			<div class="item" ng-repeat="category in params.categoryList" ng-click=showCategoryInfo(category)>
				<h2>{{category.desc}}</h2>
			</div>
		</div>
	</ion-content>
	
	<ion-content ng-show="params.isHomePage">
		<div class="list">
			<div class="item" ng-repeat="item in params.items">
				<div class="row" style="padding:0px;">
  					<div class="col col-85" style="cursor:pointer" ng-click=showInfo(item)>
						<span class="item-note">{{item.category}}</span>
						<h2>{{item.title}}</h2>
						<p>{{item.information}}</p>
					</div>
					<div class="col"><button class="button-small button-clear icon ion-thumbsup" ng-click=updateLikes(item)><span style="margin-left: 3px;">{{item.likes}}</span></button>
					<br/><button class="button-small button-clear icon ion-thumbsdown" ng-click=updateDislikes(item)><span style="margin-left: 3px;">{{item.dislikes}}</span></button></div>
				</div>
			</div>
		</div>
		<ion-infinite-scroll distance="1%" on-infinite="loadMore()" ng-if="!params.moreData"></ion-infinite-scroll>
	</ion-content>
</body>

<script id="my-modal.html" type="text/ng-template">
  <ion-modal-view>
    <ion-header-bar>
      <h1 class="title icon ion-information-circled">Post information</h1>
    </ion-header-bar>
    <ion-content>
      <div class="list">
		  <label class="item item-input item-floating-label">
			<span class="input-label">Title</span>
			<input type="text" placeholder="Title" ng-model="params.infoTitle">
		  </label>
		  <label class="item item-input item-select">
			<div class="input-label">Category</div>
		    <select ng-model="params.infoCategory">
    		  <option ng-repeat="category in params.categoryList" value="{{category.id}}">{{category.desc}}</option>
		    </select>
		  </label>
		  <label class="item item-input item-floating-label">
			<span class="input-label">Information</span>
			<textarea placeholder="Information" rows="10" ng-model="params.information"/>
		  </label>
		  <div class="button-bar">
			  <a class="button" ng-click="postInfo()">Submit</a>
			  <a class="button" ng-click="closeInfo()">Close</a>
			</div>
	  </div>
    </ion-content>
  </ion-modal-view>
</script>
</html>